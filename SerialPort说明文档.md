# SerialPort

## 1. 软件简介

   - **软件名称**：语音调试工具助手
   - **版本**：1.0.0
   - **开发语言/技术**：Python（PySide6）
   - **功能概述**：该软件是串口语音调试助手，专门为配合蓝牙语音调试工具在Windows端使用而开发的串口助手。该软件用于通过串口连接并调试设备，支持语音指令、连码指令的发送和历史指令的记忆，并提供友好的用户界面和视觉反馈。本软件最大的优点就是用户直接输入语音对应的十进制编号发送即可，程序会根据协议要求转成对应的十六进制发送。
   - **适用对象**：需要在Windows端使用串口蓝牙语音调试工具调试语音播放的工程师。

## 2. 功能简介

   - **串口通信**：实现串口的配置、连接、断开及实时通信。
   - **语音指令调试**：可以发送和接收语音指令，支持十六进制数据的输入和发送。
   - **指令记录和管理**：用户可以保存常用的指令及其名称，上电后自动加载，并支持按名称自动填充指令。
   - **协议选择**：支持根据单字节和双字节协议的切换。
   - **用户界面**：图形化界面，直观的串口配置和发送操作，带有可调的视觉反馈。

## 3. 系统需求

   - **操作系统**：Windows、macOS、Linux
   - **Python版本**：3.8或以上
   - **依赖库**：PySide6、PySerial

## 4. 安装步骤

   1. 安装Python 3.8或更高版本。
   2. 安装依赖库：
      ```bash
      pip install PySide6 pyserial
      ```
   3. 下载软件文件，并双击运行 `main.py` 启动程序。

## 5. 用户指南

   - **启动前配置**：由于本软件运行保存指令后会生成一个`command_history.json`的文件，建议将本软件单独放置一个文件夹下。
   - **启动软件**：直接双击`SerialPort.exe`即可运行
   - **串口配置**：在主界面设置端口号、波特率、校验位、停止位等。为了方便使用本软件将波特率设置成可以自定义的形式，以适应更多波特率的需求。
   - **连接/断开串口**：点击“连接”按钮，连接成功后按钮变为“断开”。连接后拔下设备，连接会自动断开，按钮会恢复到未连接状态。
   - **发送指令**：发送指令的区域有四个，分别为语音播放、音量调节、连码播放、发送hex指令。其中前三个需要输入的为十进制，发送时指令会自动转换为符合协议的十六进行的hex数据。然后发送hex指令是为了应对其他不能一一罗列的指令发送用的，可以在这里面直接输入指令后直接发送，程序会将它原封不动的发送。
   - **保存和加载指令**：
     - 在指令输入框旁边的“保存”按钮可以保存当前指令，。
     - 点击“选择指令”列表，可以选择保存的指令并自动填充到输入框中。
   - **切换协议**：在软件上端的选项选择8bit还是16bit的协议。

![image-20241026100942629](C:\Users\27294\AppData\Roaming\Typora\typora-user-images\image-20241026100942629.png)

## 6. 技术细节

   - **界面设计**：使用了PySide6中的`QMainWindow`、`QComboBox`、`QTextEdit`、`QPushButton`等组件。
   - **数据存储**：通过JSON文件保存指令记录。
   - **串口通信**：使用`serial`库进行串口配置、打开、关闭和数据读写。

## 7. 常见问题及解决方法

   - **串口连接失败**：确保选择了正确的串口，并检查设备是否连接。
   - **发送数据不成功**：检查设备的波特率等串口配置是否匹配，尝试更换USB端口或重新启动设备。
   - **程序未响应**：可能是串口资源被占用，关闭其他占用串口的程序后重试。
   - **JSON文件损坏**：如果指令记录无法读取，可能是JSON文件损坏，删除记录文件即可恢复正常。

## 8. 更新记录

   - **版本 1.0.0**：实现了串口语音调试助手的基础功能，包括串口通信、连码指令保存和自动加载、协议切换等。

## 9. 未来规划

   - 提供更多协议支持，满足不同设备的需求。以后可能实现平时就像串口助手一样，在调试语音项目时再切换到语音调试模式。虽然现在是个简易的串口助手，但是作为串口助手来说过于简陋，功能太少。
   - 现在未对波特率输入做检查，下个版本增加。
   - 未来可能也会对输入的声音十进制大小进行现在，现在并未限制，只对音量输入框进行了限制，下个版本可能加上
   - 增加删除存储指令的功能，现在记忆指令功能只是能用，但有点简单
   - 增加数据分析功能，自动识别和提取关键信息。以后可能会支持通过hex里面输入的连码指令自动识别并在下面连码框内填充
   - 优化用户界面，增加主题切换功能。

## 10. 联系信息

   - **开发者**：wenc
   - **联系方式**：2729420403@qq.com
